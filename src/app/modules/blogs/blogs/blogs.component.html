<div class="blog-page">
    <div class="not-logged-in" *ngIf="token.length === 0">
        <div class="card">
            <div class="card-title">
                You need to be logged in to view the blogs.
            </div>
            <div class="card-text">
                <a routerLink="/login">Log in</a> or <a routerLink="/sign-up">Sign up</a> to view the blogs.
            </div>
        </div>
    </div>
    <div class="blog-page-heading" *ngIf="token.length > 0">
        <div class="inviso-div"></div>
        <div class="title">Our Blogs</div>
        <div class="sort-bar">
            <label for="categories">Category:</label>
            <select [(ngModel)]="selectedCategory" (change)="filterBlogs()" name="categories" id="categories">
                <option value="all">All</option>
                <option value="breakfast">Breakfast</option>
                <option value="lunch">Lunch</option>
                <option value="Dinner">Dinner</option>
                <option value="dessert">Dessert</option>
            </select>
            <!-- <p-dropdown 
                [options]="categories"
                [(ngModel)]="selectedCategory" 
                optionLabel="name" 
                placeholder="Select a Category" 
            /> -->
        </div>
    </div>
    <div class="blogs">

        <!-- Trying to generate the blogs -->
         <a *ngFor="let blog of filteredBlogs" routerLink="/blog/{{blog.id}}">
            <div class="blog-card">
                <div class="blog-image">
                    <img src="http://res.cloudinary.com/dlctj1zzp/{{blog.picture}}" alt="{{blog.title}}">
                </div>
                <div class="blog-text">
                    <div class="blog-category">
                        {{blog.category}}
                    </div>
                    <div class="rating">
                        <p-rating [(ngModel)]="blog.rating" [cancel]="false" [readonly]="true" class="custom-rate"/>
                    </div>
                    <div class="blog-title">
                        {{blog.title | truncateName}}
                    </div>
                    <div class="blog-author">
                        review by: {{blog.author_username}}
                    </div>
                    <div class="blog-time">
                        posted on: {{blog.timestamp | date: 'dd/MM/yyyy'}}
                    </div>
                </div>
            </div>
         </a>


        <!-- <a routerLink="/blog">
            <div class="blog-card">
                <div class="blog-image">
                    <img src="/assets/anh-nguyen-kcA-c3f_3FE-unsplash.jpg" alt="Dummy blog image">
                </div>
                <div class="blog-text">
                    <div class="blog-category">
                        Lunch
                    </div>
                    <div class="rating">
                        <p-rating [(ngModel)]="value" [cancel]="false" [readonly]="true" class="custom-rate"/>
                    </div>
                    <div class="blog-title">
                        Dummy Blog Title
                    </div>
                    <div class="blog-author">
                        review by: Dummy Author
                    </div>
                    <div class="blog-time">
                        posted on: dd/mm/yyyy
                    </div>
                </div>
            </div>
        </a>

        <a routerLink="/blog">
            <div class="blog-card">
                <div class="blog-image">
                    <img src="/assets/anh-nguyen-kcA-c3f_3FE-unsplash.jpg" alt="Dummy blog image">
                </div>
                <div class="blog-text">
                    <div class="blog-category">
                        Lunch
                    </div>
                    <div class="rating">
                        <p-rating [(ngModel)]="value" [cancel]="false" [readonly]="true"/>
                    </div>
                    <div class="blog-title">
                        Creamy Chicken Carbonara by AllRecipes
                    </div>
                    <div class="blog-author">
                    review by: Dummy Author
                    </div>
                    <div class="blog-time">
                        posted on: dd/mm/yyyy
                    </div>
                </div>
            </div>
        </a>

        <a routerLink="/blog">
            <div class="blog-card">
                <div class="blog-image">
                    <img src="/assets/anh-nguyen-kcA-c3f_3FE-unsplash.jpg" alt="Dummy blog image">
                </div>
                <div class="blog-text">
                    <div class="blog-category">
                        Lunch
                    </div>
                    <div class="rating">
                        <p-rating [(ngModel)]="value" [cancel]="false" [readonly]="true"/>
                    </div>
                    <div class="blog-title">
                        Dummy Blog Title
                    </div>
                    <div class="blog-author">
                    review by: Dummy Author
                    </div>
                    <div class="blog-time">
                        posted on: dd/mm/yyyy
                    </div>
                </div>
            </div>
        </a>

        <a routerLink="/blog">
            <div class="blog-card">
                <div class="blog-image">
                    <img src="/assets/anh-nguyen-kcA-c3f_3FE-unsplash.jpg" alt="Dummy blog image">
                </div>
                <div class="blog-text">
                    <div class="blog-category">
                        Lunch
                    </div>
                    <div class="rating">
                        <p-rating [(ngModel)]="value" [cancel]="false" [readonly]="true"/>
                    </div>
                    <div class="blog-title">
                        Dummy Blog Title
                    </div>
                    <div class="blog-author">
                    review by: Dummy Author
                    </div>
                    <div class="blog-time">
                        posted on: dd/mm/yyyy
                    </div>
                </div>
            </div>
        </a>

        <a routerLink="/blog">
            <div class="blog-card">
                <div class="blog-image">
                    <img src="/assets/anh-nguyen-kcA-c3f_3FE-unsplash.jpg" alt="Dummy blog image">
                </div>
                <div class="blog-text">
                    <div class="blog-category">
                        Lunch
                    </div>
                    <div class="rating">
                        <p-rating [(ngModel)]="value" [cancel]="false" [readonly]="true"/>
                    </div>
                    <div class="blog-title">
                        Dummy Blog Title
                    </div>
                    <div class="blog-author">
                    review by: Dummy Author
                    </div>
                    <div class="blog-time">
                        posted on: dd/mm/yyyy
                    </div>
                </div>
            </div>
        </a>

        <a routerLink="/blog">
            <div class="blog-card">
                <div class="blog-image">
                    <img src="/assets/anh-nguyen-kcA-c3f_3FE-unsplash.jpg" alt="Dummy blog image">
                </div>
                <div class="blog-text">
                    <div class="blog-category">
                        Lunch
                    </div>
                    <div class="rating">
                        <p-rating [(ngModel)]="value" [cancel]="false" [readonly]="true"/>
                    </div>
                    <div class="blog-title">
                        Dummy Blog Title
                    </div>
                    <div class="blog-author">
                    review by: Dummy Author
                    </div>
                    <div class="blog-time">
                        posted on: dd/mm/yyyy
                    </div>
                </div>
            </div>
        </a> -->
    </div>
</div>
